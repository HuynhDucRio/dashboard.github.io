<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MyTube Dashboard</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <div class="header-left">
        <div class="hamburger" id="hamburger" aria-expanded="false">
          &#9776;
        </div>
        <div class="logo">
          <img src="logo1.png" alt="MyTube Logo" class="logo-icon" />
          <h1>MyTube</h1>
          <pre>
          <span id="current-time">${new Date().toLocaleTimeString()}</span>
          <span id="current-date">${new Date().toLocaleDateString()}</span>
          </pre>
          
        </div>
      </div>
      <!-- <div class="search-bar">
        <input type="text" id="search-input" placeholder="Search" />
        <button id="search-btn">Search</button>
      </div> -->
      <div class="user-profile">
        <img src="user.jpg" alt="User Profile" />
      </div>
    </header>

    <aside class="sidebar" id="sidebar">
      <ul>
        <li id="home-btn"><a href="home.html">Home</a></li>
        <li id="livingroom-btn">Livingroom</li>
        <li id="bedroom-btn"><a href="bedroom.html">Bedroom</a></li>
        <li id="kitchen-btn"><a href="kitchen.html">Kitchen</a></li>
        <li id="garden-btn"><a href="garden.html">Garden</a></li>
      </ul>
    </aside>

    <main class="content" id="content">
      <div id="home-page">
        <!-- <h2>Welcome to MyTube - Home</h2> -->
        <div id="livingroom-page" class="livingroom-background">
            <h2 style="text-align: center;">Livingroom</h2>
            <div class="widget-container">
                <div class="widget">
                  <h3>Temperature: <span id="nhietdo"></span>%</h3>
                    <img src="nhietdo.png" class="widget-icon" alt="Temperature Icon" />
                </div>
                <div class="widget">
                  <h3>Humidity: <span id="doam"></span>%</h3>
                    <img src="denicon.png" class="widget-icon" alt="Brightness Icon" />
                </div>
                <div class="widget">
                    <h3>Time: <span id="current-time">${new Date().toLocaleTimeString()}</span></h3>
                    <img src="tivimo.png" class="widget-icon" alt="Clock Icon" />
                </div>
            </div>
        </div>
    </main>

    <script src="script.js"></script>
         <!-- The core Firebase JS SDK is always required and must be listed first -->
    
    <!-- //Remember to add this ...database line in your code unless it will not work -->
    
    <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-database.js"></script>
    <!-- TODO: Add SDKs for Firebase products that you want to use
         https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-analytics.js"></script>
    <!-- lien ket voi functions.js -->
    
    
    <script>
      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
      apiKey: "AIzaSyBpPYuInq9aazvDD6ot28p4IT5kQwzYtk0",
      authDomain: "smart-city-60734.firebaseapp.com",
      databaseURL: "https://smart-city-60734-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "smart-city-60734",
      storageBucket: "smart-city-60734.appspot.com",
      messagingSenderId: "1010715793912",
      appId: "1:1010715793912:web:b8e111bd511e3f224fde0d",
      measurementId: "G-RBYNFN4BX2"
    };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      firebase.analytics();
      
      //functions
      // make sure that the name in ' ' match with name of your database child
      var nhietDo = document.getElementById('nhietdo');
      var dbRef = firebase.database().ref().child('Nhiet do');
      var doAm = document.getElementById('doam');
      var dbRef2 = firebase.database().ref().child('Do am');
      dbRef.on('value', snap => nhietDo.innerText = snap.val());
      dbRef2.on('value', snap => doAm.innerText = snap.val());
     
      var dbRef3 = firebase.database().ref("maylanh").child("trangthai");
      dbRef3.on("value", (snapshot) => {
        const data = snapshot.val();
            if (data && data.trangthai === 1) {
                img.src = "img/fan_running.png";
            } else if (data && data.trangthai === 0) {
                img.src = "img/fan_off.png";
            }
      });
    
      
      
     
    </script>
     
     
    
  </body>
</html>
