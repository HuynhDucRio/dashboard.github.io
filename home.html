<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Smart Home Dashboard</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <div class="header-left">
        <div class="hamburger" id="hamburger" aria-expanded="false">
          &#9776;
        </div>
        <div class="logo">
          <img src="logo1.png" alt="MyTube Logo" class="logo-icon" />
          <h1>Home</h1>
        </div>
      </div>
      <div class="search-bar">
        <input type="text" id="search-input" placeholder="Search" />
        <button id="search-btn">Search</button>
      </div>
      <div class="user-profile">
        <h3 id="current-time">${new Date().toLocaleTimeString()}</h3>
        <h3 id="current-date">${new Date().toLocaleDateString()}</h3>
      </div>
    </header>

    <aside class="sidebar" id="sidebar">
      <ul>
        <li id="home-btn">Home</li>
        <li id="livingroom-btn"><a href="livingroom.html">Livingroom</a></li>
        <li id="bedroom-btn"><a href="bedroom.html">Bedroom</a></li>
        <li id="kitchen-btn"><a href="kitchen.html">Kitchen</a></li>
        <li id="garden-btn"><a href="garden.html">Garden</a></li>
      </ul>
    </aside>

    <main class="content" id="content">
      <div id="home-page">
        <div class="widget-container" style="margin-top: 60px;">
          <h3 style="text-align: center;">Kitchen</h3>
          <h3 style="text-align: center;">Garden</h3>
        </div>
        <div class="widget-container" style="margin-top: 0;">
          <a href="kitchen.html" class="widget-home">
            <div class="widget-home" style="background-image: url('kitchen.jpg');margin-right: 10px;" >
              
            </div>
          </a>
          <a href="garden.html" class="widget-home">
            <div class="widget-home" style="background-image: url('vuon.jpg');margin-left: 10px;">
             
            </div>
          </a>
      </div>
      <div class="widget-container" style="margin-top: 0px;">
        <h3 style="text-align: center;">Living Room</h3>
        <h3 style="text-align: center;">Bed Room</h3>
      </div>
      <div class="widget-container" style="margin-top: 0px;">
        <a href="livingroom.html" class="widget-home" alt="livingroom" >
          <div class="widget-home" style="background-image: url('livingroom.jpg');margin-right: 10px;">
          
          </div>
        </a>
        <a href="bedroom.html" class="widget-home">
          <div class="widget-home" style="background-image: url('bedroom.jpg'); margin-left: 10px;">
        
          </div>
        </a>
      </div>
    </div>
    </main>









    <script src="script.js"></script>
        <!-- The core Firebase JS SDK is always required and must be listed first -->
    
        <!-- //Remember to add this ...database line in your code unless it will not work// -->
    
        <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-database.js"></script>
        <!-- TODO: Add SDKs for Firebase products that you want to use
             https://firebase.google.com/docs/web/setup#available-libraries -->
        <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-analytics.js"></script>
        <!-- lien ket voi functions.js -->
        
        
        <script>
          // Your web app's Firebase configuration
          // For Firebase JS SDK v7.20.0 and later, measurementId is optional
          const firebaseConfig = {
          apiKey: "AIzaSyBpPYuInq9aazvDD6ot28p4IT5kQwzYtk0",
          authDomain: "smart-city-60734.firebaseapp.com",
          databaseURL: "https://smart-city-60734-default-rtdb.asia-southeast1.firebasedatabase.app",
          projectId: "smart-city-60734",
          storageBucket: "smart-city-60734.appspot.com",
          messagingSenderId: "1010715793912",
          appId: "1:1010715793912:web:b8e111bd511e3f224fde0d",
          measurementId: "G-RBYNFN4BX2"
        };
          // Initialize Firebase
          firebase.initializeApp(firebaseConfig);
          firebase.analytics();
          
          //functions
          // make sure that the name in ' ' match with name of your database child
          var nhietDo = document.getElementById('nhietdo');
          var dbRef = firebase.database().ref().child('Nhiet do');
          var doAm = document.getElementById('doam');
          var dbRef2 = firebase.database().ref().child('Do am');
          dbRef.on('value', snap => nhietDo.innerText = snap.val());
          dbRef2.on('value', snap => doAm.innerText = snap.val());
         
          var dbRef3 = firebase.database().ref("maylanh").child("trangthai");
          dbRef3.on("value", (snapshot) => {
            const data = snapshot.val();
                if (data && data.trangthai === 1) {
                    img.src = "img/fan_running.png";
                } else if (data && data.trangthai === 0) {
                    img.src = "img/fan_off.png";
                }
          });
        
          
          
         
        </script>
     
    
  </body>
</html>
